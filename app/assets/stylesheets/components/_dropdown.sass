// COMPONENT: Dropdown: an expandable menu of choices (usually links)
.dropdown
  display: inline-block
  position: relative
  vertical-align: top

  .dropdown-toggle
    margin-right: 0 !important
    text-overflow: ellipsis
    white-space: nowrap

    &[aria-expanded=true] + .dropdown-menu
      animation: dropdown-in 150ms $swift-in both
      display: block
      z-index: $z-index-modal

  .dropdown-menu
    background: $background
    border: 1px solid $border-light
    border-radius: $border-radius
    box-shadow: $shadow-level-2
    display: none
    opacity: 0
    min-width: 100%
    padding: ($gutter * 2) 0
    position: absolute
    right: 0
    text-align: left
    transition: opacity 250ms $swift-in, transform 250ms $swift-in
    transform: none
    z-index: -1

    &:before, &:after
      border-style: solid
      border-width: 0 $gutter $gutter $gutter
      bottom: 100%
      content: ""
      height: 0
      left: 50%
      position: absolute
      width: $gutter

      +mobile
        left: auto
        right: $gutter

    &:before
      border-color: transparent transparent $border-light transparent
      transform: translate(-50%, -1px)

    &:after
      border-color: transparent transparent $background transparent
      transform: translateX(-50%)

    .dropdown-menu-item
      position: relative
      white-space: nowrap

      a
        display: block
        padding: $input-padding ($gutter * 2)
        text-decoration: none

        &:hover
          background-color: $input
          color: inherit

  &--end .dropdown-menu
    &:before,
    &:after
      left: auto
      right: $gutter

@keyframes dropdown-in
  0%
    opacity: 0
    transform: translateY(0)

  100%
    opacity: 1
    transform: translateY($gutter + 1px)
