// COMPONENT: Dropdown: an expandable menu of choices (usually links)
.dropdown
  display: inline-block
  position: relative
  vertical-align: top

  .dropdown-toggle
    @extend select

    text-overflow: ellipsis
    white-space: nowrap

    &[aria-expanded=true] + .dropdown-menu
      animation: dropdown-in 150ms both
      display: block
      z-index: 5

  .dropdown-menu
    background: $background
    border: 1px solid $border
    border-radius: $border-radius
    box-shadow: $shadow-level-1
    display: none
    opacity: 0
    min-width: 100%
    position: absolute
    right: 0
    transition: opacity 250ms $swift-in, transform 250ms $swift-in
    transform: none
    z-index: -1

    &:before, &:after
      border-style: solid
      border-width: 0 $gutter $gutter $gutter
      bottom: 100%
      content: ""
      height: 0
      left: 50%
      position: absolute
      width: $gutter

    &:before
      border-color: transparent transparent $border transparent
      transform: translate(-50%, -1px)

    &:after
      border-color: transparent transparent $background transparent
      transform: translateX(-50%)

    .dropdown-menu-item
      border-bottom: 1px solid $border

      &:last-child
        border-bottom-width: 0

      a
        display: block
        padding: $input-padding
        text-decoration: none

@keyframes dropdown-in
  0%
    opacity: 0
    transform: translateY(0)

  100%
    opacity: 1
    transform: translateY($gutter + 1px)
